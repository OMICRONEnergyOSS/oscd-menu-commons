{"version":3,"file":"oscd-menu-undo.js","sources":["../src/oscd-menu-undo.ts"],"sourcesContent":["import { ScopedElementsMixin } from '@open-wc/scoped-elements/lit-element.js';\nimport { html, LitElement } from 'lit';\nimport { OscdIcon } from '@omicronenergy/oscd-ui/icon/OscdIcon.js';\nimport { OscdIconButton } from '@omicronenergy/oscd-ui/iconbutton/OscdIconButton.js';\nimport { property, state } from 'lit/decorators.js';\nimport { Transactor } from '@omicronenergy/oscd-api';\nimport { EditV2 } from '@openscd/oscd-api';\n\nexport default class OscdMenuNewFile extends ScopedElementsMixin(LitElement) {\n  static scopedElements = {\n    'oscd-icon': OscdIcon,\n    'oscd-icon-button': OscdIconButton,\n  };\n\n  @property({ type: Object })\n  editor!: Transactor<EditV2>;\n\n  @property({ type: Object })\n  docVersion!: unknown;\n\n  @state()\n  get canUndo(): boolean {\n    return this.editor.past.length >= 1;\n  }\n\n  /* When used as a menu plugin, this method is called when the user clicks the menu item. */\n  run() {\n    this.editor.undo();\n  }\n\n  /* When used as an Action plugin, this method is called to render the action button. */\n  override render() {\n    return html` <oscd-icon-button\n      .disabled=${!this.canUndo}\n      @click=${() => this.run()}\n      ><oscd-icon>undo</oscd-icon></oscd-icon-button\n    >`;\n  }\n}\n"],"names":["LitElement","html","property","state"],"mappings":";;;;AAQA,MAAqB,eAAgB,SAAQ,mBAAmB,CAACA,CAAU,CAAC,CAAA;AAa1E,IAAA,IAAI,OAAO,GAAA;QACT,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC;IACrC;;IAGA,GAAG,GAAA;AACD,QAAA,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;IACpB;;IAGS,MAAM,GAAA;AACb,QAAA,OAAOC,CAAI,CAAA,CAAA;kBACG,CAAC,IAAI,CAAC,OAAO;AAChB,aAAA,EAAA,MAAM,IAAI,CAAC,GAAG,EAAE;;MAEzB;IACJ;;AA5BO,eAAA,CAAA,cAAc,GAAG;AACtB,IAAA,WAAW,EAAE,QAAQ;AACrB,IAAA,kBAAkB,EAAE,cAAc;CACnC;AAGD,UAAA,CAAA;AADC,IAAAC,CAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE;AACE,CAAA,EAAA,eAAA,CAAA,SAAA,EAAA,QAAA,EAAA,MAAA,CAAA;AAG5B,UAAA,CAAA;AADC,IAAAA,CAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE;AACL,CAAA,EAAA,eAAA,CAAA,SAAA,EAAA,YAAA,EAAA,MAAA,CAAA;AAGrB,UAAA,CAAA;AADC,IAAAC,CAAK;AAGL,CAAA,EAAA,eAAA,CAAA,SAAA,EAAA,SAAA,EAAA,IAAA,CAAA;;;;"}